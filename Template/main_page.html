<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.88.1">
    <title>HMM · AI 습관 인증</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/album/">


    <!-- Bootstrap core CSS -->
    <!-- <link href="../static/src/bootstrap.min.css" rel="stylesheet"> -->
    <link href="{{url_for('static', filename='src/placeholder.css')}}" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <link href="{{url_for('static', filename='src/hscroll.css')}}" rel="stylesheet">
    <!-- <link rel="stylesheet" href="../static/src/hscroll.css"> -->
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>

  </head>
  <body>

    <header>
      <div class="collapse bg-dark" id="navbarHeader">
        <div class="container">
          <div class="row">
            <div class="col-sm-8 col-md-7 py-4">
              <h4 class="text-white">About</h4>
              <p class="text-muted">Add some information about the album below, the author, or any other background context. Make it a few sentences long so folks can pick up some informative tidbits. Then, link them off to some social networking sites or contact information.</p>
            </div>
            <div class="col-sm-4 offset-md-1 py-4">
              <h4 class="text-white">Contact</h4>
              <ul class="list-unstyled">
                <li><a href="https://github.com/programmersA4" class="text-white">Github</a></li>
                <!-- <li><a href="#" class="text-white">Email me</a></li> -->
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="navbar navbar-dark bg-dark shadow-sm">
        <div class="container">
          <a href="#" class="navbar-brand d-flex align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true" class="me-2" viewBox="0 0 24 24"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg>
            <strong>Habits Maketh Man</strong>
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
        </div>
      </div>
      
    </header>

    <main>

      <section class="py-5 text-center container">
        <div class="row py-lg-5">
          <div class="col-lg-6 col-md-8 mx-auto">
            <h1 class="fw-light">인공지능과 함께하는 습관인증</h1>
            <p class="lead text-muted">We first make our habits, then our habits make us.</p>
            <!-- <p>
              <a href="#" class="btn btn-primary my-2">Main call to action</a>
              <a href="#" class="btn btn-secondary my-2">Secondary action</a>
            </p> -->
          </div>
        </div>
      </section>

      <!-- Workout container -->
      <div class="container text-center album bg-light" id="workout">
        <h2 class="mt-4">Workout</h2>
        <p class="subtitle">운동하기</p>
        
        <div class="scrolling-wrapper row flex-row flex-nowrap mt-2 pb-2 pt-2">  
          <!-- scroll wrapper -->
          <div class="col-sm-auto" id="plank">
            <div class="card shadow-sm">
              <svg class="bd-placeholder-img card-img-top" width="300" height="200" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
                <title>Placeholder</title>
                <!-- <rect width="100%" height="100%" fill="#55595c"/> -->
                <image xlink:href="{{url_for('static', filename='images/plank_m.jpg', _schema='http')}}" x=-50 y=-75 width="400" height="400"/>
                <!-- <image xlink:href="" x=-50 y=-75 width="400" height="400"/> -->
                <text x="45%" y="50%" fill="#eceeef" dy=".3em">Plank</text>
              </svg>
              <div class="card-body">
                <p class="card-text fs-6 fw-bold">플랭크</p>  
              </div>
            </div>
          </div>

          <div class="col-sm-auto" id="pullup">
            <div class="card shadow-sm">
              <svg class="bd-placeholder-img card-img-top" width="300" height="200" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
                <title>Placeholder</title>
                <!-- <rect width="100%" height="100%" fill="#55595c"/> -->
                <image xlink:href="{{url_for('static', filename='images/pullup_m.jpg', _schema='http')}}" x=-50 y=-75 width="400" height="400"/>
                <!-- <image xlink:href="" x=-50 y=-75 width="400" height="400"/> -->
                <text x="50%" y="50%" fill="#eceeef" dy=".3em">Pull-up</text>
              </svg>
              <div class="card-body">
                <p class="card-text fs-6 fw-bold">턱걸이</p>
              </div>
            </div>
          </div>

          <div class="col-sm-auto" id="pushup">
            <div class="card shadow-sm">
              <svg class="bd-placeholder-img card-img-top" width="300" height="200" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
                <title>Placeholder</title>
                <!-- <rect width="100%" height="100%" fill="#55595c"/> -->
                <image xlink:href="{{url_for('static', filename='images/pushup_m.jpg')}}" x=-50 y=-75 width="400" height="400"/>
                <!-- <image xlink:href="" x=-50 y=-75 width="400" height="400"/> -->
                <text x="50%" y="50%" fill="#eceeef" dy=".3em">Push-up</text>
              </svg>
              <div class="card-body">
                <p class="card-text fs-6 fw-bold">팔굽혀펴기</p>
              </div>
            </div>
          </div>
          
          <div class="col-sm-auto" id="squat">
            <div class="card shadow-sm">
              <svg class="bd-placeholder-img card-img-top" width="300" height="200" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
                <title>Placeholder</title>
                <!-- <rect width="100%" height="100%" fill="#55595c"/> -->
                <image xlink:href="{{url_for('static', filename='images/squat_m.jpg')}}" x=-50 y=-75 width="400" height="400"/>
                <!-- <image xlink:href="" x=-50 y=-75 width="400" height="400"/> -->
                <text x="50%" y="50%" fill="#eceeef" dy=".3em">squat</text>
              </svg>
              <div class="card-body">
                <p class="card-text fs-6 fw-bold">스쿼트</p>
              </div>
            </div>
          </div>
        <!-- scroll wrapper --> 
        </div>
    </div>
    <!-- Workout container -->

    <!-- Dailylife container -->
    <div class="container text-center album  bg-light" id="dailylife">
      <h2 class="mt-5">Dailylife</h2>
      <p class="subtitle">일상생활</p>
      
      <div class="scrolling-wrapper row flex-row flex-nowrap mt-2 pb-2 pt-2">  
        <!-- scroll wrapper -->
        <div class="col-sm-auto" id="stairs">
          <div class="card shadow-sm">
            <svg class="bd-placeholder-img card-img-top" width="300" height="200" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
              <title>Placeholder</title>
              <!-- <rect width="100%" height="100%" fill="#55595c"/> -->
              <image xlink:href="{{url_for('static', filename='images/stairs_m.jpg')}}" x=-50 y=-75 width="400" height="400"/>
              <!-- <image xlink:href="" x=-50 y=-75 width="400" height="400"/> -->
              <text x="50%" y="50%" fill="#eceeef" dy=".3em">Stairs</text>
            </svg>
            <div class="card-body">
              <p class="card-text fs-6 fw-bold">계단 이용하기</p>
            </div>
          </div>
        </div>

        <div class="col-sm-auto" id="pet">
          <div class="card shadow-sm">
            <svg class="bd-placeholder-img card-img-top" width="300" height="200" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
              <title>Placeholder</title>
              <!-- <rect width="100%" height="100%" fill="#55595c"/> -->
              <image xlink:href="{{url_for('static', filename='images/pet_m.jpg')}}" x=-50 y=-75 width="400" height="400"/>
              <!-- <image xlink:href="" x=-50 y=-75 width="400" height="400"/> -->
              <text x="50%" y="50%" fill="#eceeef" dy=".3em">Walk  with pet</text>
            </svg>
          <div class="card-body">
              <p class="card-text fs-6 fw-bold">반려동물과 산책하기</p>
            </div>
          </div>
        </div>

        <!-- scroll wrapper --> 
        </div>
    </div>
    <!-- Dailylife container -->

    <!-- Diet container -->
    <div class="container text-center album  bg-light" id="diet">
      <h2 class="mt-5">Diet</h2>
      <p class="subtitle">식단 관리</p>
      
      <div class="scrolling-wrapper row flex-row flex-nowrap mt-2 pb-2 pt-2">  
        <!-- scroll wrapper -->
        <div class="col-sm-auto" id="Salad">
          <div class="card shadow-sm">
            <svg class="bd-placeholder-img card-img-top" width="300" height="200" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
              <title>Placeholder</title>
              <!-- <rect width="100%" height="100%" fill="#55595c"/> -->
              <image xlink:href="{{url_for('static', filename='images/salad_m.jpg')}}" x=-50 y=-75 width="400" height="400"/>
              <text x="50%" y="50%" fill="#eceeef" dy=".3em">Salad</text>
            </svg>
            <div class="card-body">
                <p class="card-text fs-6 fw-bold">샐러드로 식사</p>
            </div>
          </div>
        </div>

        <div class="col-sm-auto" id="fruit">
          <div class="card shadow-sm">
            <svg class="bd-placeholder-img card-img-top" width="300" height="200" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false">
              <title>Placeholder</title>
              <!-- <rect width="100%" height="100%" fill="#55595c"/> -->
              <image xlink:href="{{url_for('static', filename='images/fruit_m.jpg')}}" x=-50 y=-75 width="400" height="400"/>
              <text x="50%" y="50%" fill="#eceeef" dy=".3em">Fruit</text>
            </svg>
            <div class="card-body">
              <p class="card-text fs-6 fw-bold">과일 섭취하기</p>
            </div>
          </div>
        </div>

        <!-- scroll wrapper --> 
        </div>
    </div>
    <!-- Diet container -->

    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="check-circle-fill" fill="currentColor" viewBox="0 0 16 16">
        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
      </symbol>
      <symbol id="info-fill" fill="currentColor" viewBox="0 0 16 16">
        <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
      </symbol>
      <symbol id="exclamation-triangle-fill" fill="currentColor" viewBox="0 0 16 16">
        <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
      </symbol>
    </svg>

    </main>

    <footer class="text-muted py-5">
      <div class="container">
        <p class="float-end mb-1">
          <a href="#">Back to top</a>
        </p>
        <p class="mb-1">HMM과 습관 만들기</p>
        <p class="mb-0"><a href="https://github.com/programmersA4">Project Github Home</a></p>
      </div>
    </footer>

    <!-- Modal for Capture -->
    <div class="modal fade" id="captureModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="captureModalLabel">Modal title</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div id="container" class="overflow-hidden">
              <div class="row p-1">
                <video id="gum-local" class="col align-self-center" autoplay playsinline></video>
              </div>
            </div>
            <div id="btn-container" class="row p-1">
              <div class="col">
                <button id="showVideo" class="col-12 btn btn-primary">Open camera</button>
              </div>
              <div class="col">
                <button id="stopCamera" class="col-12 btn btn-primary" disabled>Stop camera</button>
              </div>
              <div class="col">
                <button id="captureBtn" class="col-12 btn btn-primary" disabled>Capture</button>
              </div>
            </div>  
            <div id="errorMsg" class="row"></div>
            <div id="inference-result" class="row"></div>
            <div class="row" id="canvas-wrapper">
              <canvas></canvas>
            </div>        
          </div>
          <div class="modal-footer">
            <!-- <button type="button" id="ModalCloseBtn" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> -->
            <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
    <!-- <script type="text/javascript" src="../static/src/main.js"></script> -->
    <!-- <script type="text/javascript" src="../static/src/ga.js"></script> -->
    <script type="text/javascript" src="{{url_for('static', filename='src/main.js')}}"></script>
    <script type="text/javascript" src="{{url_for('static', filename='src/ga.js')}}"></script>
    

    <script>
      // document.body.click( function (event){
      //   console.log(event.target.nodeName);
      // })
      $( "body" ).click(function (event) {
        // console.log(event.target.nodeName);
        habit = ""
        try {
          if (event.target.nodeName === 'image' && event.target.nextElementSibling.nodeName === 'text'){
            habit = event.target.nextElementSibling.innerHTML;
          } else if (event.target.nodeName === 'text' || event.target.previousElementSibling.nodeName === 'image') {
            habit = event.target.innerHTML;
          }
        } catch(e) {
          // console.log(`${e.name}: ${e.message}`)
        }
        // console.log(event.target.nodeName);
        // console.log(habit);
        if (habit) {
          localStorage.setItem('challenge', habit);
          $( "#captureModalLabel" ).text(localStorage.getItem('challenge'));
          $( "#captureModal" ).modal('show');
        }
      });

      // $('.btn-close').click(() => {
      $('#captureModal').on('hidden.bs.modal', function (e){
        window.stream.getTracks()[0].stop();
        document.querySelector('#showVideo').disabled = false;
        document.querySelector('#stopCamera').disabled = true;
        document.querySelector('#captureBtn').disabled = true;
        document.querySelector('#container').innerHTML = `<div class="row p-1"><video id="gum-local" autoplay playsinline></video></div>`;
        document.querySelector('#canvas-wrapper').innerHTML = `<canvas></canvas>`;
      });

    </script>

  </body>
</html>
